<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Noah Dashboard v60 | Colorful</title>
    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --text-color: #ffffff;
            --accent-finance: #00d4ff; /* Blau */
            --accent-school: #bd00ff;  /* Lila */
            --accent-home: #ff0055;    /* Rot */
            --accent-sport: #00ff88;   /* Gr√ºn */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0; padding: 20px;
            padding-bottom: 90px; /* Platz f√ºr Men√º unten */
        }

        /* HEADER */
        .header {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
        }
        .header h1 { font-size: 1.5rem; margin: 0; background: linear-gradient(45deg, #00d4ff, #bd00ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* CLOUD BUTTONS */
        .sync-btn {
            background: #333; border: 1px solid #444; color: white; padding: 8px 12px; border-radius: 8px; font-weight: bold; cursor: pointer;
        }
        .sync-btn:hover { border-color: white; }

        /* UHRZEIT WIDGET */
        .time-widget {
            text-align: center; margin-bottom: 30px;
        }
        .time-widget h2 { font-size: 3.5rem; margin: 0; font-weight: 200; }
        .time-widget p { color: #888; margin-top: 5px; }

        /* BUNTE AUFGABEN KARTEN */
        .task-grid {
            display: grid; grid-template-columns: 1fr; gap: 15px;
        }
        .task-card {
            background: var(--card-bg); padding: 20px; border-radius: 15px; position: relative; overflow: hidden;
        }
        .task-card::before {
            content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 5px;
        }
        .card-finance::before { background: var(--accent-finance); }
        .card-school::before { background: var(--accent-school); }
        .card-home::before { background: var(--accent-home); }
        .card-sport::before { background: var(--accent-sport); }

        .task-card h3 { margin-top: 0; font-size: 1.1rem; }
        .task-input {
            width: 100%; background: transparent; border: none; border-bottom: 1px solid #444; color: white; padding: 8px 0; margin-top: 5px; font-size: 0.95rem;
        }
        .task-input:focus { outline: none; border-bottom-color: white; }

        /* TABS (Inhalt) */
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* TAGEBUCH */
        textarea.journal {
            width: 100%; height: 400px; background: #1e1e1e; border: 1px solid #333; color: white; padding: 15px; border-radius: 12px; resize: none; font-size: 1rem; line-height: 1.6;
        }

        /* NAVIGATION UNTEN */
        .bottom-nav {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(30,30,30,0.95); backdrop-filter: blur(10px);
            border-radius: 50px; padding: 15px 30px; display: flex; gap: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5); border: 1px solid #333; z-index: 100;
        }
        .nav-icon { font-size: 1.5rem; cursor: pointer; opacity: 0.5; transition: 0.2s; }
        .nav-icon.active { opacity: 1; transform: scale(1.2); color: #00d4ff; }

        /* STATUS MELDUNG */
        #status-toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background: #333; padding: 10px 20px; border-radius: 20px;
            font-size: 0.9rem; display: none; z-index: 200; border: 1px solid #555;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>NOAH DASHBOARD</h1>
        <div style="display:flex; gap:10px;">
            <button class="sync-btn" onclick="loadData()">‚¨á Load</button>
            <button class="sync-btn" onclick="saveData()">‚¨Ü Save</button>
        </div>
    </div>

    <!-- TAB 1: DASHBOARD -->
    <div id="tab-home" class="tab-content active">
        <div class="time-widget">
            <h2 id="clock">00:00</h2>
            <p id="date">Datum</p>
        </div>

        <div class="task-grid">
            <!-- Finanzen (Blau) -->
            <div class="task-card card-finance">
                <h3 style="color: var(--accent-finance)">üí∞ Finanzen & Business</h3>
                <input type="text" class="task-input" id="todo-finance-1" placeholder="‚Ä¢ Aktien checken">
                <input type="text" class="task-input" id="todo-finance-2" placeholder="‚Ä¢ ETF Sparplan">
            </div>

            <!-- Schule (Lila) -->
            <div class="task-card card-school">
                <h3 style="color: var(--accent-school)">üìö Schule & Lernen</h3>
                <input type="text" class="task-input" id="todo-school-1" placeholder="‚Ä¢ Hausaufgaben">
                <input type="text" class="task-input" id="todo-school-2" placeholder="‚Ä¢ Vokabeln lernen">
            </div>

            <!-- Zuhause (Rot) -->
            <div class="task-card card-home">
                <h3 style="color: var(--accent-home)">üè† Zuhause & Routine</h3>
                <input type="text" class="task-input" id="todo-home-1" placeholder="‚Ä¢ Zimmer aufr√§umen">
                <input type="text" class="task-input" id="todo-home-2" placeholder="‚Ä¢ M√ºll rausbringen">
            </div>

            <!-- Sport (Gr√ºn) -->
            <div class="task-card card-sport">
                <h3 style="color: var(--accent-sport)">üí™ Sport & Freizeit</h3>
                <input type="text" class="task-input" id="todo-sport-1" placeholder="‚Ä¢ Gym">
                <input type="text" class="task-input" id="todo-sport-2" placeholder="‚Ä¢ Fu√üball">
            </div>
        </div>
    </div>

    <!-- TAB 2: TAGEBUCH -->
    <div id="tab-journal" class="tab-content">
        <h2 style="margin-bottom: 20px;">Mein Tagebuch üìñ</h2>
        <textarea class="journal" id="journal-text" placeholder="Wie war dein Tag heute, Noah?"></textarea>
    </div>

    <!-- TAB 3: FINANZEN (Chart) -->
    <div id="tab-finance" class="tab-content">
        <h2 style="margin-bottom: 20px;">Markt & Portfolio üìà</h2>
        <div style="height: 500px; background: #1e1e1e; border-radius: 15px; padding: 10px;">
            <!-- TradingView Widget -->
            <div class="tradingview-widget-container" style="height:100%;width:100%">
                <div class="tradingview-widget-container__widget" style="height:100%;width:100%"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
                { "colorTheme": "dark", "dateRange": "12M", "showChart": true, "locale": "de_DE", "width": "100%", "height": "100%", "isTransparent": true, "tabs": [{"title": "Portfolio", "symbols": [{"s": "XETR:IUSQ"}, {"s": "TVC:GOLD"}]}] }
                </script>
            </div>
        </div>
    </div>

    <!-- TAB 4: SETTINGS (Platzhalter) -->
    <div id="tab-settings" class="tab-content">
        <h2>Einstellungen ‚öôÔ∏è</h2>
        <p style="color:#888;">Hier k√∂nnten sp√§ter deine Account-Daten stehen.</p>
    </div>

    <!-- BOTTOM NAV -->
    <div class="bottom-nav">
        <div class="nav-icon active" onclick="switchTab('home', this)">üè†</div>
        <div class="nav-icon" onclick="switchTab('journal', this)">üìñ</div>
        <div class="nav-icon" onclick="switchTab('finance', this)">üìà</div>
        <div class="nav-icon" onclick="switchTab('settings', this)">‚öôÔ∏è</div>
    </div>

    <div id="status-toast">Nachricht</div>

    <script>
        // ========================
        // KEYS HIER EINTRAGEN
        // ========================
        const API_KEY = "HIER_DEIN_MASTER_KEY_EINF√úGEN"; 
        const BIN_ID  = "HIER_DEINE_BIN_ID_EINF√úGEN";
        // ========================

        // 1. UHRZEIT
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('de-DE', {hour:'2-digit', minute:'2-digit'});
            document.getElementById('date').innerText = now.toLocaleDateString('de-DE', {weekday:'long', day:'numeric', month:'long'});
        }
        setInterval(updateClock, 1000); updateClock();

        // 2. TAB NAVIGATION
        function switchTab(id, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById('tab-' + id).classList.add('active');
            
            document.querySelectorAll('.nav-icon').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }

        // 3. CLOUD SYNC (MANUELL)
        function showStatus(msg, color="#fff") {
            const t = document.getElementById('status-toast');
            t.innerText = msg;
            t.style.color = color;
            t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 3000);
        }

        async function loadData() {
            showStatus("Lade Daten...");
            try {
                let r = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {headers:{"X-Master-Key":API_KEY}});
                if(r.ok) {
                    let d = (await r.json()).record;
                    // Aufgaben laden
                    if(d.tf1) document.getElementById('todo-finance-1').value = d.tf1;
                    if(d.tf2) document.getElementById('todo-finance-2').value = d.tf2;
                    if(d.ts1) document.getElementById('todo-school-1').value = d.ts1;
                    if(d.ts2) document.getElementById('todo-school-2').value = d.ts2;
                    if(d.th1) document.getElementById('todo-home-1').value = d.th1;
                    if(d.th2) document.getElementById('todo-home-2').value = d.th2;
                    if(d.tsp1) document.getElementById('todo-sport-1').value = d.tsp1;
                    if(d.tsp2) document.getElementById('todo-sport-2').value = d.tsp2;
                    // Tagebuch laden
                    if(d.journal) document.getElementById('journal-text').value = d.journal;
                    
                    showStatus("Erfolgreich geladen!", "#00ff88");
                } else { showStatus("Fehler: API Key pr√ºfen", "#ff5555"); }
            } catch(e) { showStatus("Verbindungsfehler", "#ff5555"); }
        }

        async function saveData() {
            showStatus("Speichere...");
            let data = {
                tf1: document.getElementById('todo-finance-1').value,
                tf2: document.getElementById('todo-finance-2').value,
                ts1: document.getElementById('todo-school-1').value,
                ts2: document.getElementById('todo-school-2').value,
                th1: document.getElementById('todo-home-1').value,
                th2: document.getElementById('todo-home-2').value,
                tsp1: document.getElementById('todo-sport-1').value,
                tsp2: document.getElementById('todo-sport-2').value,
                journal: document.getElementById('journal-text').value
            };
            try {
                let r = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, {
                    method:"PUT", headers:{"Content-Type":"application/json", "X-Master-Key":API_KEY}, body:JSON.stringify(data)
                });
                if(r.ok) showStatus("Gespeichert!", "#00ff88");
                else showStatus("Speicherfehler", "#ff5555");
            } catch(e) { showStatus("Verbindungsfehler", "#ff5555"); }
        }

    </script>
</body>
</html>
